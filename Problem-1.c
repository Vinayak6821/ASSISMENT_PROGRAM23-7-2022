#include<stdio.h>

unsigned char PR_data[50]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x55,0x19,0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x38,0x39,0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x50,0x51,0x52,0x53,0x54,0x55};
unsigned char PL_data[50]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x38,0x39,0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x50,0x51,0x52,0x53,0x54,0x55};
unsigned char PC_data[50]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x55,0x19,0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x38,0x39,0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x50,0x51,0x52,0x53,0x54,0x55};

unsigned char count=0;


unsigned char* Received_Data(unsigned char *PR,unsigned char *PL,unsigned char *PC)
{
    static int i=0;
    char F_P_data[50];
      static int k=0,l=0;

    for(;i<=50;i++,count++)
    {
        if(PR[l]<=0x05 && PR[l]>=0xF5)
        {
         F_P_data[k++]=PR[l];
        }
        else
        {
          F_P_data[k++]=PR[i+1];
          l=l-1;
        }

        l=l+5;

    if(PL[l]<=0x05 && PL[l]>=0xF5)
    {
      F_P_data[k++]=PL[l];
    }
    else
    {
        F_P_data[k++]=PL[l+1];
        l=l-1;
    }
      l=l+5;

   if(PC[l]<=0x05 && PC[l]>=0xF5)
   {
      F_P_data[k++]=PC[l];
    }
    else
    {
       F_P_data[k++]=PC[l+1];
       l=l-1;
    }
     l=l+5;

        if(i==50)
          i=0;
     count++;
     if(count==6)
       break;
}
return F_P_data;
}

char decision(void)
{
    unsigned char *Data;
    int i;
while(1)
{
  Data=Received_Data(PR_data,PL_data,PC_data);

  for(i=0;i<6;i++)
  {
      if(Data[i]>=55)
      {
        return 1;

      }
      else
      {
          return 0;
      }


}
}
}
void main()
{
char *Data;
int i,airbag_open;

while(1)
{
  airbag_open=decision();

      if(airbag_open==1)
        printf("Air bag deployment \n");
      else
        printf("not deployment \n");
}
}
